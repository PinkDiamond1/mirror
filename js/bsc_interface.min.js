var poolTimer,detectMetamask=!1,metamaskConnected=!1,userAddress="",stbbPrice=new BigNumber(0),bnbPrice=new BigNumber(0),circulatingSupply=new BigNumber(0),TVL=new BigNumber(0),airdropInfo={},operatorAddress="0x9F37068a58DE8a2adfaECA4Eb01794E23868365F",wbnbAddress="0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",stbbAddress="0xE1316066af35fbfF54f870eA6d1468255602a696",merkleAddress="0xea751572184ca6244b6ECcC1830c1830A12dA6C6",contract_viewallowance="dd62ed3e",contract_approve="095ea7b3",contract_totalsupply="18160ddd",contract_balanceof="70a08231",contract_isclaimed="9e34070f",contract_merkleclaim="2e7ba6ef",contract_getreserves="0902f1ac",contract_token0address="0dfe1681",contract_tokenprice="7b1b1de6",contract_deposit="e2bbb158",contract_staking_deposit="a694fc3a",contract_exit="2af9cc41",contract_staking_exit="7f8661a1",contract_claimReward="1c4b774b",contract_staking_claimReward="3d18b912",contract_poolBalance="351e7cb3",contract_staking_poolBalance="68abb5e0",contract_poolSize="dd034779",contract_staking_poolSize="4ec18db9",contract_rewardEarned="cdfa2c36",contract_staking_rewardEarned="008cc262",contract_rewardRate="cea01962",contract_staking_rewardRate="7b0a47ee",contract_circsupply="9358928b",contract_claimTreasury="379607f5",contract_treasuryBalance="9105d748",contract_mint_week="19597a56",contract_last_oracle="0c89a0f0",contract_period_end="0962c4f9",contract_rebalance_pools="882229f3",contract_getPrice="41976e09",targetNetwork=56,poolList=[],pricesList=[],poolRotation=0;function loadPoolList(){poolList.push({poolID:7,poolToken:"0x7cC127d3e1E9Ea3ABb3692F747556Aec9a51e9f9",units:"LP",decimals:18,panel:"7",proxy:!1}),poolList.push({poolID:1,poolToken:"0x62b39BEB9e784e957CD112706919a9F6bACE0Cc5",units:"zsb-USD",decimals:18,panel:"1",proxy:!0,underlyingUnits:"USD",underlyingInterestMethod:"strategy",underlyingInterestData:6307517,usdPrice:1}),poolList.push({poolID:2,poolToken:"0xfF756ceb8aca17C302E33cfa9b368F8002926453",units:"zsb-IRON",decimals:18,panel:"2",proxy:!0,underlyingUnits:"IRON",underlyingInterestMethod:"strategy",underlyingInterestData:6307517,usdPrice:1}),poolList.push({poolID:4,poolToken:"0xD256E756BCd536b0C6c6630C5b31Da5ecF21568A",units:"zsb-ETH",decimals:18,panel:"4",proxy:!0,underlyingUnits:"ETH",underlyingInterestMethod:"strategy",underlyingInterestData:6307517,usdPrice:1}),poolList.push({poolID:6,poolToken:"0x755966B34135Cd34Dbc880fCF82C751f26872390",units:"zsb-BTC",decimals:18,panel:"6",proxy:!0,underlyingUnits:"BTC",underlyingInterestMethod:"strategy",underlyingInterestData:6708265,usdPrice:1}),poolList.push({poolID:8,poolToken:"0x507Cd42d23853463F1Ec7bec88100e22c125C181",units:"zsb-USDG",decimals:18,panel:"8",proxy:!0,underlyingUnits:"USDG",underlyingInterestMethod:"strategy",underlyingInterestData:6962544,usdPrice:1}),poolList.push({poolID:9,poolToken:"0x31e0c311EE4cECe47729e295ED6108372C5f4e42",units:"zsb-MBDO",decimals:18,panel:"9",proxy:!0,underlyingUnits:"MBDO",underlyingInterestMethod:"strategy",underlyingInterestData:6964349,usdPrice:1}),matchPoolToPrices()}function loadInactivePoolList(){poolList.push({poolID:0,poolToken:"0x95dCb8a62d2d8dc51dcef3E2f0Ff376583A14b9C",units:"LP",decimals:18,panel:"0",proxy:!1}),poolList.push({poolID:5,poolToken:"0x76F4bFB6C8ea2397bB5D7c2AaF49846F9E34c6A1",units:"zsb-MDO",decimals:18,panel:"5",proxy:!0,underlyingUnits:"MDO",underlyingInterestMethod:"none",underlyingInterestData:6307517,usdPrice:1}),poolList.push({poolID:3,poolToken:"0xFAAC2Fe54935029B9b872d5a4020493A21dC020f",units:"zsb-BDO",decimals:18,panel:"3",proxy:!0,underlyingUnits:"BDO",underlyingInterestMethod:"none",underlyingInterestData:6307517,usdPrice:1}),matchPoolToPrices()}function checkMetaMaskExist(){void 0!==window.ethereum&&(detectMetamask=!0,null==getCookie("metamask")?$("#metamask_interactive").html("Connect Wallet"):0==metamaskConnected&&enableMetaMask())}async function enableMetaMask(){const e=await ethereum.request({method:"eth_requestAccounts"});if(e){var t=await ethereum.request({method:"eth_chainId"});if(0!=(t=new BigNumber("0x"+t.substring(2))).comparedTo(targetNetwork))return void(0==t.comparedTo(1)?window.location.replace("../"):alert("This application requires the BSC network, please switch it in your MetaMask UI."));userAddress=e[0],metamaskConnected=!0,setCookie("metamask","active",0),$("#loading_panel").hide(),$("#data_panel").show(),getPrices(),checkMerkleAirdrop(),$("#metamask_interactive").html(userAddress.substring(0,9)+"..."+userAddress.substring(33)),ethereum.on("accountsChanged",function(e){userAddress=e[0],$("#metamask_interactive").html(userAddress.substring(0,9)+"..."+userAddress.substring(33)),location.reload()}),ethereum.on("chainChanged",function(e){location.reload()})}}function metamaskButtonClick(){if(0==detectMetamask)window.open("https://metamask.io/","_blank");else 1==detectMetamask&&0==metamaskConnected&&enableMetaMask()}function padleftzero(e,t){return(e=e.toString()).length<t?padleftzero("0"+e,t):e}function padrightzero(e,t){return(e=e.toString()).length<t?padrightzero(e+"0",t):e}function showInactivePools(){$("#inactive_pool_controller").html("INACTIVE POOLS"),$("#inactive_pool_container").show(),0==poolRotation&&TVL.comparedTo(0)>0?(poolRotation=poolList.length,loadInactivePoolList(),clearTimeout(poolTimer),poolTimer=window.setTimeout(function(){refreshPoolData(!0)},6e4),refreshPoolData(!1)):loadInactivePoolList()}function getPrices(){var e=!1;0==poolList.length&&(e=!0,loadPoolList());$.get("https://api.coingecko.com/api/v3/simple/price?ids=ethereum,bitcoin,binancecoin,midas-dollar,bdollar&vs_currencies=usd",function(t){if(t){bnbPrice=new BigNumber(t.binancecoin.usd);var o=new BigNumber(t.ethereum.usd),r=new BigNumber(t["midas-dollar"].usd),n=new BigNumber(t.bdollar.usd),i=new BigNumber(t.bitcoin.usd);(pricesList={}).ETH=new BigNumber(o),pricesList.BNB=new BigNumber(bnbPrice),pricesList.MDO=new BigNumber(r),pricesList.BDO=new BigNumber(n),pricesList.BTC=new BigNumber(i),pricesList.MBDO=pricesList.BDO.plus(pricesList.MDO).div(2),matchPoolToPrices(),1==e&&refreshPoolData(!0)}})}function matchPoolToPrices(){if(0!=poolList.length)for(var e=0;e<poolList.length;e++)"zsb-ETH"==poolList[e].units?poolList[e].usdPrice=pricesList.ETH:"zsb-MDO"==poolList[e].units?poolList[e].usdPrice=pricesList.MDO:"zsb-BDO"==poolList[e].units?poolList[e].usdPrice=pricesList.BDO:"zsb-BTC"==poolList[e].units?poolList[e].usdPrice=pricesList.BTC:"zsb-MBDO"==poolList[e].units&&(poolList[e].usdPrice=pricesList.MBDO)}function runCountDownTimer(){var e=Math.floor((new Date).getTime()/1e3);if(1617922800>e){var t=1617922800-e,o=Math.floor(t/3600),r=Math.floor(t%3600/60),n=Math.floor(t%60),i="HOURS",a="MINUTES",s="SECONDS";1==o&&(i="HOURS"),1==r&&(a="MINUTE"),1==n&&(s="SECOND");var l=o+" "+i+", ",c=r+" "+a+", ",p=n+" "+s;o<1&&(l="",r<1&&(c="")),$("#countdown_timer").html(l+c+p+"<br>"),window.setTimeout(runCountDownTimer,1e3)}else $("#countdown_timer").html("MOMENTARILY<br>")}function checkMerkleAirdrop(){$.getJSON("stbb_airdrop_merkle.json",function(e){$.each(e.claims,function(t,o){e.claims[t.toLowerCase()]||(e.claims[t.toLowerCase()]=o,delete e.claims[t])});var t=userAddress.toLowerCase();if(!e.claims[t])return;var o=new BigNumber(e.claims[t].index).toString(16);o=padleftzero(o,64);const r=[{to:merkleAddress,data:"0x"+contract_isclaimed+o},"latest"];ethereum.request({method:"eth_call",params:r}).then(o=>{var r=o.substring(2);0==new BigNumber("0x"+r.substring(0,64)).comparedTo(0)&&(airdropInfo.index=e.claims[t].index,airdropInfo.amount=new BigNumber("0x"+e.claims[t].amount),airdropInfo.proof=e.claims[t].proof,$("#airdrop_action").html("CLAIM "+airdropInfo.amount.div(new BigNumber(10).pow(18)).dp(2)+" STBB FROM STABILIZE BSC AIRDROP NOW >"),$("#airdrop_action").css("display","inline"))}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))})})}function getSTBBAirdrop(){if(!airdropInfo)return;var e=airdropInfo.index.toString(16);e=padleftzero(e,64);var t=padleftzero(userAddress.substring(2),64),o=airdropInfo.amount.toString(16);o=padleftzero(o,64);var r=new BigNumber(128).toString(16);r=padleftzero(r,64);var n=new BigNumber(airdropInfo.proof.length).toString(16);n=padleftzero(n,64);for(var i="",a=0;a<airdropInfo.proof.length;a++)i+=padrightzero(airdropInfo.proof[a].substring(2),64);sendETHTransaction([{to:merkleAddress,from:userAddress,data:"0x"+contract_merkleclaim+e+t+o+r+n+i}],function(){$("#airdrop_action").css("display","none")})}function getCirculatingSupply(){const e=[{to:stbbAddress,data:"0x"+contract_totalsupply},"latest"];ethereum.request({method:"eth_call",params:e}).then(e=>{var t=e.substring(2),o=new BigNumber("0x"+t.substring(0,64));o=o.div(new BigNumber(10).pow(18));var r=padleftzero(operatorAddress.substring(2),64);const n=[{to:stbbAddress,data:"0x"+contract_balanceof+r},"latest"];ethereum.request({method:"eth_call",params:n}).then(e=>{var t=e.substring(2),r=new BigNumber("0x"+t.substring(0,64));r=r.div(new BigNumber(10).pow(18));var n=o.minus(r);$("#circ_supply").html(n.toFormat(2))}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))})}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))})}function calculateUnderlyingInterest(e){var t=poolList[e].underlyingInterestMethod,o=poolList[e].underlyingInterestData,r=poolList[e].panel;if("strategy"==t){var n=new BigNumber(o),i=poolList[e].poolToken;ethereum.request({method:"eth_blockNumber",params:[]}).then(e=>{var t,o=e.substring(2),a=new BigNumber("0x"+o.substring(0,64));t=[{to:i,data:"0x"+contract_tokenprice},"0x"+a.toString(16)],ethereum.request({method:"eth_call",params:t}).then(e=>{var t=e.substring(2),o=new BigNumber("0x"+t.substring(0,64)),i=new BigNumber(10).pow(18),s=o.div(i).minus(1),l=a.minus(n).div(28800);0==l.comparedTo(0)&&(l=new BigNumber(1));var c=s.div(l).times(100).times(365);c.comparedTo(.001)>0?$("#panel_"+r+"_interest_link").html(c.dp(2).toString(10)+"% &#9654;"):$("#panel_"+r+"_interest_link").html("N/A &#9654;")}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))})}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))})}else"none"==t&&$("#panel_"+r+"_interest_link").html("0% &#9654;")}async function refreshPoolData(e){if(0==poolRotation)getCirculatingSupply(),TVL=new BigNumber(0),null!=poolTimer&&clearTimeout(poolTimer),poolTimer=window.setTimeout(function(){refreshPoolData(!0)},6e4);else if(1==e)return null!=poolTimer&&clearTimeout(poolTimer),void(poolTimer=window.setTimeout(function(){refreshPoolData(!0)},6e4));var t=poolList[poolRotation].panel;if("none"==$("#panel_"+t+"_action_buttons").css("display")&&"none"==$("#panel_"+t+"_unlock_button").css("display")||1==$("#panel_"+t+"_unlock_inner_button").prop("disabled")){var o=poolList[poolRotation].poolToken,r=padleftzero(userAddress.substring(2),64),n=padleftzero(operatorAddress.substring(2),64);const e=[{to:o,data:"0x"+contract_viewallowance+r+n},"latest"];ethereum.request({method:"eth_call",params:e}).then(e=>{var o=e.substring(2);new BigNumber("0x"+o.substring(0,64)).comparedTo(1)<0?$("#panel_"+t+"_unlock_button").show():($("#panel_"+t+"_unlock_button").hide(),$("#panel_"+t+"_action_buttons").show())}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))})}var i,a,s,l=poolRotation,c=new BigNumber(poolList[l].poolID).toString(16);c=padleftzero(c,64),i=[{to:operatorAddress,data:"0x"+contract_poolSize+c},"latest"],await ethereum.request({method:"eth_call",params:i}).then(e=>{var o=e.substring(2);a=(a=new BigNumber("0x"+o.substring(0,64))).div(new BigNumber(10).pow(poolList[l].decimals)),s=2,a.comparedTo(.01)<0&&(s=8),$("#panel_"+t+"_poolsize").html(a.dp(s).toString(10)+" "+poolList[l].units)}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))});var p;r=padleftzero(userAddress.substring(2),64);i=[{to:operatorAddress,data:"0x"+contract_poolBalance+c+r},"latest"],await ethereum.request({method:"eth_call",params:i}).then(e=>{var o=e.substring(2);p=(p=new BigNumber("0x"+o.substring(0,64))).div(new BigNumber(10).pow(poolList[l].decimals)),$("#panel_"+t+"_mybalance").html(p.dp(s).toString(10)+" "+poolList[l].units),p.comparedTo(0)<=0?"none"!=$("#panel_"+t+"_withdraw_button").css("display")&&($("#panel_"+t+"_withdraw_button").hide(),$("#panel_"+t+"_claim_button").hide()):"none"==$("#panel_"+t+"_withdraw_button").css("display")&&($("#panel_"+t+"_withdraw_button").show(),$("#panel_"+t+"_claim_button").show())}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))}),1==poolList[l].proxy&&(i=[{to:poolList[l].poolToken,data:"0x"+contract_tokenprice},"latest"],await ethereum.request({method:"eth_call",params:i}).then(e=>{var o=e.substring(2),r=new BigNumber("0x"+o.substring(0,64));r=r.div(new BigNumber(10).pow(18));var n=p.times(r);$("#panel_"+t+"_value").html(n.dp(s).toString(10)+" "+poolList[l].underlyingUnits);var i=a.times(r).times(poolList[l].usdPrice);console.log("Pool "+l+" usd value: "+i.dp(2).toString(10)),TVL=TVL.plus(i),(l+1>=poolList.length||0==l)&&$("#tvl").html("$"+TVL.toFormat(2))}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))})),i=[{to:operatorAddress,data:"0x"+contract_rewardEarned+c+r},"latest"],await ethereum.request({method:"eth_call",params:i}).then(e=>{var o=e.substring(2),r=new BigNumber("0x"+o.substring(0,64));r=r.div(new BigNumber(10).pow(18)),$("#panel_"+t+"_rewardbalance").html(r.dp(4).toString(10)+" STBB"),i=[{to:operatorAddress,data:"0x"+contract_rewardRate+c},"latest"]}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))}),await ethereum.request({method:"eth_call",params:i}).then(e=>{var o=e.substring(2),r=new BigNumber("0x"+o.substring(0,64));if("LP"!=poolList[l].units){r=(r=r.div(new BigNumber(10).pow(18))).times(stbbPrice),a.comparedTo(0)>0&&(1==poolList[l].proxy&&0==(a=a.times(poolList[l].usdPrice)).comparedTo(0)&&(a=new BigNumber(1)),0==poolList[l].proxy&&(TVL=TVL.plus(a)),r=r.div(a));var n=r.times(new BigNumber(86400)),i=2;(n=n.times(100)).comparedTo("0.01")<0&&(i=8),$("#panel_"+t+"_dpy").html(n.dp(i).toString(10)+"%");var s=n.times(365);$("#panel_"+t+"_apr").html(s.dp(i).toString(10)+"%");var c=s.div(100),p=(c=c.div(52).plus(1).pow(52).minus(1).times(100)).dp(i).toString(10)+"%";if(c.comparedTo("1000000")>0&&(p="> 1000000%"),1==poolList[l].proxy){var d="---";$("#panel_"+t+"_interest_link").length>0&&(d=$("#panel_"+t+"_interest_link").html()),$("#panel_"+t+"_apy").html(p+" + <a id='panel_"+t+"_interest_link' href='wrap/' style='color: rgb(40,200,40);'>"+d+"</a>"),calculateUnderlyingInterest(l)}else $("#panel_"+t+"_apy").html(p);l+1>=poolList.length&&$("#tvl").html("$"+TVL.toFormat(2)),++poolRotation>=poolList.length?(getPrices(),poolRotation=0):window.setTimeout(function(){refreshPoolData(!1)},500)}else getLPTokenDPY(l,a,r)}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))})}function getLPTokenDPY(e,t,o){const r=[{to:poolList[e].poolToken,data:"0x"+contract_getreserves},"latest"];ethereum.request({method:"eth_call",params:r}).then(r=>{var n=r.substring(2),i=new BigNumber("0x"+n.substring(0,64)),a=new BigNumber("0x"+n.substring(64,128));const s=[{to:poolList[e].poolToken,data:"0x"+contract_token0address},"latest"];ethereum.request({method:"eth_call",params:s}).then(r=>{var n=r.substring(2).substring(0,64).toLowerCase(),s=padleftzero(wbnbAddress.substring(2),64).toLowerCase();const l=[{to:poolList[e].poolToken,data:"0x"+contract_totalsupply},"latest"];ethereum.request({method:"eth_call",params:l}).then(r=>{var l=r.substring(2),c=new BigNumber("0x"+l.substring(0,64));if(!(bnbPrice.comparedTo(0)<=0)){var p=new BigNumber(1);if(c.comparedTo(0)>0){var d=0;n==s?(i=i.div(new BigNumber(10).pow(18)).times(bnbPrice),0==e&&(stbbPrice=i.div(a.div(new BigNumber(10).pow(18))),$("#stbb_price").html("$"+stbbPrice.toFormat(2))),a=new BigNumber(i)):(a=a.div(new BigNumber(10).pow(18)).times(bnbPrice),0==e&&(stbbPrice=a.div(i.div(new BigNumber(10).pow(18))),$("#stbb_price").html("$"+stbbPrice.toFormat(2))),i=new BigNumber(a)),d=i.plus(a),c=c.div(new BigNumber(10).pow(18));var u=t.div(c);(p=d.times(u)).comparedTo(0)<=0?p=1:(console.log("LP Pool usd value: "+p.dp(2).toString(10)),TVL=TVL.plus(p))}var m=(o=(o=(o=o.div(new BigNumber(10).pow(18))).times(stbbPrice)).div(p)).times(new BigNumber(86400));m=m.times(100),$("#panel_"+poolList[e].panel+"_dpy").html(m.dp(2).toString(10)+"%");var g=m.times(365);$("#panel_"+poolList[e].panel+"_apr").html(g.dp(2).toString(10)+"%");var b=g.div(100),h=(b=b.div(52).plus(1).pow(52).minus(1).times(100)).dp(2).toString(10)+"%";b.comparedTo("1000000")>0&&(h="> 1000000%"),$("#panel_"+poolList[e].panel+"_apy").html(h),e+1>=poolList.length&&$("#tvl").html("$"+TVL.toFormat(2)),++poolRotation>=poolList.length?(getPrices(),poolRotation=0):window.setTimeout(function(){refreshPoolData(!1)},500)}}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))})}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))})}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))})}function unlockToken(e){for(var t=0,o=0;o<poolList.length;o++)if(parseInt(poolList[o].panel)==e){t=o;break}var r=new BigNumber(2).pow(256).minus(1),n=operatorAddress.substring(2);n=padleftzero(n.toLowerCase(),64);var i=r.toString(16);i=padleftzero(i,64),sendETHTransaction([{to:poolList[t].poolToken,gas:"0x186A0",from:userAddress,data:"0x"+contract_approve+n+i}],function(){$("#panel_"+e+"_unlock_inner_button").prop("disabled",!0),$("#panel_"+e+"_unlock_inner_button").html("UNLOCKING "+poolList[t].units)})}function selectMaxOut(e){for(var t,o=0,r=0;r<poolList.length;r++)if(parseInt(poolList[r].panel)==e){o=r;break}var n=new BigNumber(poolList[o].poolID).toString(16);n=padleftzero(n,64);var i=padleftzero(userAddress.substring(2),64);t=[{to:operatorAddress,data:"0x"+contract_poolBalance+n+i},"latest"],ethereum.request({method:"eth_call",params:t}).then(t=>{var r=t.substring(2),n=new BigNumber("0x"+r.substring(0,64));n=n.div(new BigNumber(10).pow(poolList[o].decimals)),$("#panel_"+e+"_amount").val(n.toString(10))}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))})}function selectMaxIn(e){for(var t=0,o=0;o<poolList.length;o++)if(parseInt(poolList[o].panel)==e){t=o;break}var r=padleftzero(userAddress.substring(2),64);const n=[{to:poolList[t].poolToken,data:"0x"+contract_balanceof+r},"latest"];ethereum.request({method:"eth_call",params:n}).then(o=>{var r=o.substring(2),n=new BigNumber("0x"+r.substring(0,64));n=n.div(new BigNumber(10).pow(poolList[t].decimals)),$("#panel_"+e+"_amount").val(n.toString(10))}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))})}function deposit(e){for(var t=0,o=0;o<poolList.length;o++)if(parseInt(poolList[o].panel)==e){t=o;break}var r=new BigNumber($("#panel_"+e+"_amount").val());if(!(r.isNaN()||r.comparedTo(0)<=0)){var n=(r=r.times(new BigNumber(10).pow(poolList[t].decimals))).toString(16);n=padleftzero(n,64);var i=new BigNumber(poolList[t].poolID).toString(16);i=padleftzero(i,64),sendETHTransaction([{to:operatorAddress,from:userAddress,data:"0x"+contract_deposit+i+n}],null)}}function withdraw(e){for(var t=0,o=0;o<poolList.length;o++)if(parseInt(poolList[o].panel)==e){t=o;break}var r=new BigNumber($("#panel_"+e+"_amount").val());if(!(r.isNaN()||r.comparedTo(0)<=0)){var n=(r=r.times(new BigNumber(10).pow(poolList[t].decimals))).toString(16);n=padleftzero(n,64);var i=new BigNumber(poolList[t].poolID).toString(16);i=padleftzero(i,64),sendETHTransaction([{to:operatorAddress,from:userAddress,data:"0x"+contract_exit+i+n}],null)}}function claimReward(e){for(var t=0,o=0;o<poolList.length;o++)if(parseInt(poolList[o].panel)==e){t=o;break}var r=new BigNumber(poolList[t].poolID).toString(16);r=padleftzero(r,64),sendETHTransaction([{to:operatorAddress,gas:"0x30D40",from:userAddress,data:"0x"+contract_claimReward+r}],null)}async function sendETHTransaction(e,t){var o=await ethereum.request({method:"eth_chainId"});0==(o=new BigNumber("0x"+o.substring(2))).comparedTo(targetNetwork)?ethereum.request({method:"eth_sendTransaction",params:e}).then(e=>{console.log("Transaction hash: "+e),t&&t()}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))}):alert("This application requires the BSC network, please switch it in your MetaMask UI.")}function setCookie(e,t,o){var r="";if(o>0){var n=new Date;n.setTime(n.getTime()+24*o*60*60*1e3),r="; expires="+n.toUTCString()}document.cookie=e+"="+(t||"")+r+"; path=/; SameSite=Strict"}function getCookie(e){for(var t=e+"=",o=document.cookie.split(";"),r=0;r<o.length;r++){for(var n=o[r];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return null}function eraseCookie(e){document.cookie=e+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"}$(window).on("load",function(){checkMetaMaskExist()});