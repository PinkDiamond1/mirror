var detectMetamask=!1,metamaskConnected=!1,userAddress="",refreshTimer=null,targetNetwork=1,reethAddress="0xe804964c296E9FB666fBE67767838c1FF9Ab3209",reethLPAddress="0x974415a21B5897Fe78E15F826f5EbC231DcEc969",zsTokenAddress="0xe9979d2fa20a71F64eA0b6055121Fa2bC578fAEB",pReethAddress="0x148054772BF9d95E48C8E32868F8e3c497938f04",stakerAddress="0xaB9f4a5d1A81e9a92B0B45b940562FA4884d222f",oracleAddress="0x0f1f24BdCcb632e33888fEaf73D05dD851B811Ec",lpFarmAddress="0x78a4ba5b04e75Ce1CB8c1f64906B06469Bc29036",claimPolicyAddress="0xccAB64083Ae79Dbf1888794D3297705ac3bBceb7",contract_viewallowance="dd62ed3e",contract_approve="095ea7b3",contract_totalsupply="18160ddd",contract_balanceof="70a08231",contract_burnpreeth="f2d35f30",contract_getreethprice="9e59ab0b",contract_rewardratescaled_lp="8ba732dc",contract_earnedscaled_lp="af0a1ab8",contract_poolsize_lp="4ec18db9",contract_getuserbalance_lp="68abb5e0",contract_stake_lp="a694fc3a",contract_claimexit_lp="7f8661a1",contract_claimonly_lp="3d18b912",contract_getuserethspent="f5271146",contract_getuserbalance_zs="47734892",contract_claimexit_zs="7e94fda9",contract_claimonly_zs="423426bc",contract_stake_zs="7e14419f",contract_ethvalue="e300a074",contract_claimpercent="0cb59c6a",contract_ethspentpercent="4efedade",contract_queryclaim="cb3de6e0",contract_deposit="b6b55f25",contract_redeem="db006a75",contract_tokenprice="7b1b1de6",contract_view_withdrawtoken="c650ea59",contract_value="563a7956",tokenList=[];function loadZSReethWrap(){multicoins=[],multicoins[0]={token:"0xe804964c296E9FB666fBE67767838c1FF9Ab3209",decimals:18,symbol:"REETH"},multicoins[1]={token:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",decimals:18,symbol:"WETH"},tokenList.push({zToken:"0xe9979d2fa20a71F64eA0b6055121Fa2bC578fAEB",underlying:"0xe804964c296E9FB666fBE67767838c1FF9Ab3209",withdrawTokens:multicoins,units:"zs-REETH",underlyingUnits:"REETH",decimals:18,panel:"22",tokenType:4,blockFirstDeposit:12779641})}function checkMetaMaskExist(){void 0!==window.ethereum&&(detectMetamask=!0,null==getCookie("metamask")?$("#metamask_interactive").html("Connect Wallet"):0==metamaskConnected&&enableMetaMask())}async function enableMetaMask(){const e=await ethereum.request({method:"eth_requestAccounts"});if(e){var t=await ethereum.request({method:"eth_chainId"});if(0!=(t=new BigNumber("0x"+t.substring(2))).comparedTo(targetNetwork))return void(0==t.comparedTo(56)?window.location.replace("../../"):alert("This application requires the ETH network, please switch it in your MetaMask UI."));userAddress=e[0],metamaskConnected=!0,setCookie("metamask","active",0),$("#loading_panel").hide(),$("#data_panel").show(),loadZSReethWrap(),checkAndShowPreethRedemption(),updateUI(),$("#metamask_interactive").html(userAddress.substring(0,9)+"..."+userAddress.substring(33)),ethereum.on("accountsChanged",function(e){userAddress=e[0],$("#metamask_interactive").html(userAddress.substring(0,9)+"..."+userAddress.substring(33)),location.reload()}),ethereum.on("chainChanged",function(e){location.reload()})}}function metamaskButtonClick(){if(0==detectMetamask)window.open("https://metamask.io/","_blank");else 1==detectMetamask&&0==metamaskConnected&&enableMetaMask()}function padleftzero(e,t){return(e=e.toString()).length<t?padleftzero("0"+e,t):e}function padrightzero(e,t){return(e=e.toString()).length<t?padrightzero(e+"0",t):e}async function checkPreethBalance(){var e=padleftzero(userAddress.substring(2),64);const t=[{to:pReethAddress,data:"0x"+contract_balanceof+e},"latest"];var r=new BigNumber(0);return await ethereum.request({method:"eth_call",params:t}).then(e=>{var t=e.substring(2);r=new BigNumber("0x"+t.substring(0,64))}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))}),r}async function checkAndShowPreethRedemption(){var e=await checkPreethBalance();0!=e.comparedTo(0)&&(e=e.div(new BigNumber(10).pow(18)),$("#redeem_action").html("BURN "+e.dp(8).toString(10)+" pREETH FOR REETH >"),$("#redeem_action").css("display","inline"))}async function getREETHFromPreeth(){var e=await checkPreethBalance();if(0==e.comparedTo(0))return;formatted_amount=padleftzero(e.toString(16),64),sendETHTransaction([{to:pReethAddress,from:userAddress,data:"0x"+contract_burnpreeth+formatted_amount}],function(){$("#redeem_action").css("display","none")})}async function updateUI(){null!=refreshTimer&&clearTimeout(refreshTimer),refreshTimer=window.setTimeout(updateUI,6e4);var e=new BigNumber(0),t=[{to:oracleAddress,data:"0x"+contract_getreethprice},"latest"];await ethereum.request({method:"eth_call",params:t}).then(t=>{var r=t.substring(2);e=(e=new BigNumber("0x"+r.substring(0,64))).div(new BigNumber(10).pow(18))}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))});var r=padleftzero(userAddress.substring(2),64),a=new BigNumber(0);t=[{to:stakerAddress,data:"0x"+contract_getuserethspent+r},"latest"],await ethereum.request({method:"eth_call",params:t}).then(e=>{var t=e.substring(2);a=(a=new BigNumber("0x"+t.substring(0,64))).div(new BigNumber(10).pow(18))}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))});var n=new BigNumber(0);t=[{to:reethAddress,data:"0x"+contract_totalsupply},"latest"],await ethereum.request({method:"eth_call",params:t}).then(e=>{var t=e.substring(2);n=(n=new BigNumber("0x"+t.substring(0,64))).div(new BigNumber(10).pow(18))}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))});var o=8;a.comparedTo(1)>0&&(o=2),$("#eth_spent").html(a.dp(o).toString(10)+" ETH"),$("#reeth_total").html(n.dp(8).toString(10)),$("#reeth_price").html(e.dp(4).toString(10)+" ETH"),await checkLPFarm(),await checkReethWrap(),await checkZSStaker(a),checkAllowance()}async function checkLPFarm(){var e=new BigNumber(0);callParameters=[{to:lpFarmAddress,data:"0x"+contract_rewardratescaled_lp},"latest"],await ethereum.request({method:"eth_call",params:callParameters}).then(t=>{var r=t.substring(2);e=(e=new BigNumber("0x"+r.substring(0,64))).div(new BigNumber(10).pow(18))}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))});var t=new BigNumber(0);callParameters=[{to:lpFarmAddress,data:"0x"+contract_poolsize_lp},"latest"],await ethereum.request({method:"eth_call",params:callParameters}).then(e=>{var r=e.substring(2);t=(t=new BigNumber("0x"+r.substring(0,64))).div(new BigNumber(10).pow(18))}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))});var r=padleftzero(userAddress.substring(2),64),a=new BigNumber(0);callParameters=[{to:lpFarmAddress,data:"0x"+contract_getuserbalance_lp+r},"latest"],await ethereum.request({method:"eth_call",params:callParameters}).then(e=>{var t=e.substring(2);a=(a=new BigNumber("0x"+t.substring(0,64))).div(new BigNumber(10).pow(18))}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))});var n=new BigNumber(0);callParameters=[{to:lpFarmAddress,data:"0x"+contract_earnedscaled_lp+r},"latest"],await ethereum.request({method:"eth_call",params:callParameters}).then(e=>{var t=e.substring(2);n=(n=new BigNumber("0x"+t.substring(0,64))).div(new BigNumber(10).pow(18))}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))});var o=new BigNumber(0);callParameters=[{to:reethLPAddress,data:"0x"+contract_totalsupply},"latest"],await ethereum.request({method:"eth_call",params:callParameters}).then(e=>{var t=e.substring(2);o=(o=new BigNumber("0x"+t.substring(0,64))).div(new BigNumber(10).pow(18))}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))}),r=padleftzero(reethLPAddress.substring(2),64);var s=new BigNumber(0);callParameters=[{to:reethAddress,data:"0x"+contract_balanceof+r},"latest"],await ethereum.request({method:"eth_call",params:callParameters}).then(e=>{var t=e.substring(2);s=(s=(s=new BigNumber("0x"+t.substring(0,64))).div(new BigNumber(10).pow(18))).times(2)}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))}),0==o.comparedTo(0)&&(o=new BigNumber(1e-4));var i=s.div(o).times(t);0==i.comparedTo(0)&&(i=new BigNumber(1e-4));var c,l,d,u=e.div(i),p=(u=u.times(86400).times(100)).times(365),m=p.div(100);m=m.div(52).plus(1).pow(52).minus(1).times(100),c=u.comparedTo(.01)<0?u.dp(8).toString(10)+"%":u.comparedTo(1e5)>0?"> 100000%":u.dp(2).toString(10)+"%",l=p.comparedTo(.01)<0?p.dp(8).toString(10)+"%":p.comparedTo(1e5)>0?"> 100000%":p.dp(2).toString(10)+"%",d=m.comparedTo(.01)<0?m.dp(8).toString(10)+"%":m.comparedTo(1e5)>0?"> 100000%":m.dp(2).toString(10)+"%",a.comparedTo(0)<=0?"none"!=$("#panel_lp_withdraw_button").css("display")&&$("#panel_lp_withdraw_button").hide():"none"==$("#panel_lp_withdraw_button").css("display")&&$("#panel_lp_withdraw_button").show(),n.comparedTo(0)<=0?"none"!=$("#panel_lp_claim_button").css("display")&&$("#panel_lp_claim_button").hide():"none"==$("#panel_lp_claim_button").css("display")&&$("#panel_lp_claim_button").show(),$("#panel_lp_dpr").html(c),$("#panel_lp_apr").html(l),$("#panel_lp_apy").html(d);var h=8;t.comparedTo(1)>0&&(h=2),$("#panel_lp_poolsize").html(t.dp(h).toString(10)+" LP"),h=8,a.comparedTo(1)>0&&(h=2),$("#panel_lp_mybalance").html(a.dp(h).toString(10)+" LP"),h=8,n.comparedTo(1)>0&&(h=2),$("#panel_lp_rewardbalance").html(n.dp(h).toString(10)+" REETH")}async function checkReethWrap(){var e=padleftzero(userAddress.substring(2),64);getWrapInterestRate();var t,r,a,n=tokenList[0].zToken,o=[{to:n,data:"0x"+contract_balanceof+e},"latest"];await ethereum.request({method:"eth_call",params:o}).then(e=>{var a=e.substring(2);t=(t=new BigNumber("0x"+a.substring(0,64))).div(new BigNumber(10).pow(tokenList[0].decimals)),r=6,t.comparedTo("0.00001")<0&&(r=10),$("#panel_wrap_walletbalance").html(t.dp(r).toString(10)+" "+tokenList[0].units)}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))}),o=[{to:n,data:"0x"+contract_tokenprice},"latest"],await ethereum.request({method:"eth_call",params:o}).then(e=>{var n=e.substring(2),o=new BigNumber("0x"+n.substring(0,64));o=o.div(new BigNumber(10).pow(18)),$("#panel_wrap_price").html(o.toFormat(6)+" "+tokenList[0].underlyingUnits),a=o.times(t),$("#panel_wrap_value").html(a.dp(r).toString(10)+" "+tokenList[0].underlyingUnits)}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))}),o=[{to:n,data:"0x"+contract_view_withdrawtoken},"latest"],await ethereum.request({method:"eth_call",params:o}).then(e=>{for(var t=e.substring(2).substring(0,64).toLowerCase(),n="NONE",o=0;o<tokenList[0].withdrawTokens.length;o++)t==padleftzero(tokenList[0].withdrawTokens[o].token.substring(2).toLowerCase(),64)&&(n=tokenList[0].withdrawTokens[o].symbol);$("#panel_wrap_withdrawtoken").html(n),"NONE"!=n&&$("#panel_wrap_value").html(a.dp(r).toString(10)+" "+n)}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))})}async function checkZSStaker(e){var t=new BigNumber(0),r=padleftzero(userAddress.substring(2),64);callParameters=[{to:stakerAddress,data:"0x"+contract_getuserbalance_zs+r},"latest"],await ethereum.request({method:"eth_call",params:callParameters}).then(e=>{var r=e.substring(2);t=(t=new BigNumber("0x"+r.substring(0,64))).div(new BigNumber(10).pow(18))}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))});var a=new BigNumber(0);callParameters=[{to:claimPolicyAddress,data:"0x"+contract_ethvalue+r},"latest"],await ethereum.request({method:"eth_call",params:callParameters}).then(e=>{var t=e.substring(2);a=(a=new BigNumber("0x"+t.substring(0,64))).div(new BigNumber(10).pow(18))}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))});var n=new BigNumber(0);callParameters=[{to:claimPolicyAddress,data:"0x"+contract_ethspentpercent+r},"latest"],await ethereum.request({method:"eth_call",params:callParameters}).then(e=>{var t=e.substring(2);n=(n=new BigNumber("0x"+t.substring(0,64))).div(1e5)}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))});var o=new BigNumber(0);callParameters=[{to:claimPolicyAddress,data:"0x"+contract_claimpercent+r},"latest"],await ethereum.request({method:"eth_call",params:callParameters}).then(e=>{var t=e.substring(2);o=(o=new BigNumber("0x"+t.substring(0,64))).div(1e3)}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))});var s=new BigNumber(0);callParameters=[{to:claimPolicyAddress,data:"0x"+contract_queryclaim+r},"latest"],await ethereum.request({method:"eth_call",params:callParameters}).then(e=>{var t=e.substring(2);s=(s=new BigNumber("0x"+t.substring(0,64))).div(new BigNumber(10).pow(18))}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))}),t.comparedTo(0)<=0?"none"!=$("#panel_zs_withdraw_button").css("display")&&$("#panel_zs_withdraw_button").hide():"none"==$("#panel_zs_withdraw_button").css("display")&&$("#panel_zs_withdraw_button").show(),s.comparedTo(0)<=0?"none"!=$("#panel_zs_claim_button").css("display")&&$("#panel_zs_claim_button").hide():"none"==$("#panel_zs_claim_button").css("display")&&$("#panel_zs_claim_button").show();var i=8;t.comparedTo(1)>0&&(i=2),$("#panel_zs_mybalance").html(t.dp(i).toString(10)+" zs-REETH"),i=8,a.comparedTo(1)>0&&(i=2),$("#panel_zs_value").html(a.dp(i).toString(10)+" ETH"),i=8,e.times(n).comparedTo(1)>0&&(i=2),$("#panel_zs_eligiblespent").html(e.times(n).dp(i).toString(10)+" ETH"),e.comparedTo(0)>0?$("#panel_zs_percent").html(o.dp(4).toString(10)+"%"):$("#panel_zs_percent").html("NO ETH SPENT"),i=8,s.comparedTo(1)>0&&(i=2),$("#panel_zs_claimable").html(s.dp(i).toString(10)+" REETH")}function checkAllowance(){var e=padleftzero(userAddress.substring(2),64),t=padleftzero(lpFarmAddress.substring(2),64);if("none"==$("#panel_lp_action_buttons").css("display")&&"none"==$("#panel_lp_unlock_button_div").css("display")||1==$("#panel_lp_unlock_inner_button").prop("disabled")){const r=[{to:reethLPAddress,data:"0x"+contract_viewallowance+e+t},"latest"];ethereum.request({method:"eth_call",params:r}).then(e=>{var t=e.substring(2);new BigNumber("0x"+t.substring(0,64)).comparedTo(1)<0?$("#panel_lp_unlock_button_div").show():($("#panel_lp_unlock_button_div").hide(),$("#panel_lp_action_buttons").show())}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))})}tokenList[0].zToken;var r=tokenList[0].underlying;if(t=padleftzero(tokenList[0].zToken.substring(2),64),"none"==$("#panel_wrap_action_buttons").css("display")&&"none"==$("#panel_wrap_unlock_button").css("display")||1==$("#panel_wrap_unlock_inner_button").prop("disabled")){const a=[{to:r,data:"0x"+contract_viewallowance+e+t},"latest"];ethereum.request({method:"eth_call",params:a}).then(e=>{var t=e.substring(2);new BigNumber("0x"+t.substring(0,64)).comparedTo(1)<0?$("#panel_wrap_unlock_button").show():($("#panel_wrap_unlock_button").hide(),$("#panel_wrap_action_buttons").show())}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))})}if(t=padleftzero(stakerAddress.substring(2),64),"none"==$("#panel_zs_action_buttons").css("display")&&"none"==$("#panel_zs_unlock_button_div").css("display")||1==$("#panel_zs_unlock_inner_button").prop("disabled")){const r=[{to:zsTokenAddress,data:"0x"+contract_viewallowance+e+t},"latest"];ethereum.request({method:"eth_call",params:r}).then(e=>{var t=e.substring(2);new BigNumber("0x"+t.substring(0,64)).comparedTo(1)<0?$("#panel_zs_unlock_button_div").show():($("#panel_zs_unlock_button_div").hide(),$("#panel_zs_action_buttons").show())}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))})}}function unlockToken(e,t){var r=new BigNumber(2).pow(256).minus(1),a=lpFarmAddress.substring(2);1==e&&(a=stakerAddress.substring(2)),a=padleftzero(a.toLowerCase(),64);var n=r.toString(16);n=padleftzero(n,64);var o=reethLPAddress;1==e&&(o=zsTokenAddress),sendETHTransaction([{to:o,from:userAddress,data:"0x"+contract_approve+a+n}],function(){$(t).prop("disabled",!0),$(t).html("UNLOCKING...")})}function selectMaxIn(e){var t=padleftzero(userAddress.substring(2),64),r=reethLPAddress;1==e&&(r=zsTokenAddress);const a=[{to:r,data:"0x"+contract_balanceof+t},"latest"];ethereum.request({method:"eth_call",params:a}).then(t=>{var r=t.substring(2),a=new BigNumber("0x"+r.substring(0,64));a=a.div(new BigNumber(10).pow(18)),0==e?$("#panel_lp_amount").val(a.toString(10)):$("#panel_zs_amount").val(a.toString(10))}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))})}function selectMaxOut(e){var t=padleftzero(userAddress.substring(2),64),r=lpFarmAddress,a="0x"+contract_getuserbalance_lp+t;1==e&&(r=stakerAddress,a="0x"+contract_getuserbalance_zs+t);const n=[{to:r,data:a},"latest"];ethereum.request({method:"eth_call",params:n}).then(t=>{var r=t.substring(2),a=new BigNumber("0x"+r.substring(0,64));a=a.div(new BigNumber(10).pow(18)),0==e?$("#panel_lp_amount").val(a.toString(10)):$("#panel_zs_amount").val(a.toString(10))}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))})}function claimReward(e,t){var r=lpFarmAddress,a="0x"+contract_claimonly_lp;1==e&&(r=stakerAddress,a="0x"+contract_claimonly_zs),sendETHTransaction([{to:r,from:userAddress,data:a}],function(){$(t).css("display","none")})}function deposit(e){var t;if((t=0==e?new BigNumber($("#panel_lp_amount").val()):new BigNumber($("#panel_zs_amount").val())).isNaN())return;if(t.comparedTo(0)<=0)return;var r=(t=t.times(new BigNumber(10).pow(18))).toString(16);r=padleftzero(r,64);var a="0x"+contract_stake_lp+r;1==e&&(a="0x"+contract_stake_zs+r);var n=lpFarmAddress;1==e&&(n=stakerAddress),sendETHTransaction([{to:n,from:userAddress,data:a}],null)}function withdraw(e){var t;if((t=0==e?new BigNumber($("#panel_lp_amount").val()):new BigNumber($("#panel_zs_amount").val())).isNaN())return;if(t.comparedTo(0)<=0)return;var r=(t=t.times(new BigNumber(10).pow(18))).toString(16);r=padleftzero(r,64);var a="0x"+contract_claimexit_lp+r;1==e&&(a="0x"+contract_claimexit_zs+r);var n=lpFarmAddress;1==e&&(n=stakerAddress),sendETHTransaction([{to:n,from:userAddress,data:a}],null)}async function sendETHTransaction(e,t){var r=await ethereum.request({method:"eth_chainId"});0==(r=new BigNumber("0x"+r.substring(2))).comparedTo(targetNetwork)?ethereum.request({method:"eth_sendTransaction",params:e}).then(e=>{console.log("Transaction hash: "+e),t&&t()}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))}):alert("This application requires the main network, please switch it in your MetaMask UI.")}function setCookie(e,t,r){var a="";if(r>0){var n=new Date;n.setTime(n.getTime()+24*r*60*60*1e3),a="; expires="+n.toUTCString()}document.cookie=e+"="+(t||"")+a+"; path=/; SameSite=Strict"}function getCookie(e){for(var t=e+"=",r=document.cookie.split(";"),a=0;a<r.length;a++){for(var n=r[a];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return null}function eraseCookie(e){document.cookie=e+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"}async function getWrapInterestRate(){var e,t,r,a=tokenList[0].zToken,n=tokenList[0].blockFirstDeposit;n<0?$("#panel_wrap_apy").html("N/A"):0!=n&&(n=new BigNumber(n),await ethereum.request({method:"eth_blockNumber",params:[]}).then(t=>{var r=t.substring(2);e=new BigNumber("0x"+r.substring(0,64))}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))}),e.minus(6527).comparedTo(n)<0||(t=[{to:a,data:"0x"+contract_tokenprice},"0x"+e.toString(16)],await ethereum.request({method:"eth_call",params:t}).then(e=>{var t=e.substring(2);r=new BigNumber("0x"+t.substring(0,64))}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))}),t=[{to:a,data:"0x"+contract_tokenprice},"0x"+e.minus(45689).toString(16)],await ethereum.request({method:"eth_call",params:t}).then(e=>{var t=e.substring(2),a=new BigNumber("0x"+t.substring(0,64)),n=r.div(a).minus(1).div(7).times(100).times(365);n.comparedTo(1e-5)>0&&$("#panel_wrap_apy").html(n.dp(4).toString(10)+"%")}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))})))}function unlockWrapper(){var e=new BigNumber(2).pow(256).minus(1),t=tokenList[0].zToken.substring(2);t=padleftzero(t.toLowerCase(),64);var r=e.toString(16);r=padleftzero(r,64),sendETHTransaction([{to:tokenList[0].underlying,from:userAddress,data:"0x"+contract_approve+t+r}],function(){$("#panel_wrap_unlock_inner_button").prop("disabled",!0),$("#panel_wrap_unlock_inner_button").html("UNLOCKING WRAPPER")})}function selectMaxWrap(){var e=padleftzero(userAddress.substring(2),64);const t=[{to:tokenList[0].underlying,data:"0x"+contract_balanceof+e},"latest"];ethereum.request({method:"eth_call",params:t}).then(e=>{var t=e.substring(2),r=new BigNumber("0x"+t.substring(0,64)),a=tokenList[0].decimals;a=tokenList[0].withdrawTokens[0].decimals,r=r.div(new BigNumber(10).pow(a)),$("#panel_wrap_amount").val(r.toString(10))}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))})}function selectMaxUnwrap(){var e=padleftzero(userAddress.substring(2),64);const t=[{to:tokenList[0].zToken,data:"0x"+contract_balanceof+e},"latest"];ethereum.request({method:"eth_call",params:t}).then(e=>{var t=e.substring(2),r=new BigNumber("0x"+t.substring(0,64));r=r.div(new BigNumber(10).pow(tokenList[0].decimals)),$("#panel_wrap_amount").val(r.toString(10))}).catch(e=>{console.log("An error occurred while pinging blockchain: "+JSON.stringify(e))})}function wrap(){var e=new BigNumber($("#panel_wrap_amount").val());if(e.isNaN())return;if(e.comparedTo(0)<=0)return;var t=tokenList[0].decimals;t=tokenList[0].withdrawTokens[0].decimals;var r=(e=e.times(new BigNumber(10).pow(t))).toString(16);r=padleftzero(r,64);var a="0x"+contract_deposit+r;sendETHTransaction([{to:tokenList[0].zToken,from:userAddress,data:a}],null)}function unwrap(){var e=new BigNumber($("#panel_wrap_amount").val());if(e.isNaN())return;if(e.comparedTo(0)<=0)return;var t=(e=e.times(new BigNumber(10).pow(tokenList[0].decimals))).toString(16);t=padleftzero(t,64),sendETHTransaction([{to:tokenList[0].zToken,from:userAddress,data:"0x"+contract_redeem+t}],null)}$(window).on("load",function(){checkMetaMaskExist()});